<!DOCTYPE html>
<html>

<head>
<head>
    <style>

#tempo {
  background-color: white;
    margin-right: 300px;
    margin-left: 300px;
    
}

#TempoCanvas {
  visibility: hidden;
  margin-right: 300px;
  margin-left: 300px;
  
}

a {
    color: black;
}
header{
 
  text-align: center;
  background-color: #00ff00;
 margin-right: 300px;
  margin-left: 300px;

 }
.black {
   border: 4px solid #000000;
   background: #000000;
   background: -webkit-gradient(linear, left top, left bottom, from(#f0f0f0), to(#000000));
   background: -webkit-linear-gradient(top, #f0f0f0, #000000);
   background: -moz-linear-gradient(top, #f0f0f0, #000000);
   background: -ms-linear-gradient(top, #f0f0f0, #000000);
   background: -o-linear-gradient(top, #f0f0f0, #000000);
   background-image: -ms-linear-gradient(top, #f0f0f0 0%, #000000 100%);
   padding: 18px 36px;
   -webkit-border-radius: 30px;
   -moz-border-radius: 30px;
   border-radius: 30px;
   -webkit-box-shadow: rgba(255,255,255,0.4) 0 1px 0, inset rgba(255,255,255,0.4) 0 1px 0;
   -moz-box-shadow: rgba(255,255,255,0.4) 0 1px 0, inset rgba(255,255,255,0.4) 0 1px 0;
   box-shadow: rgba(255,255,255,0.4) 0 1px 0, inset rgba(255,255,255,0.4) 0 1px 0;
   text-shadow: #ffffff 0 1px 0;
   color: #000000;
   font-size: 20px;
   font-family: helvetica, serif;
   text-decoration: none;
   vertical-align: middle;
   }
.black:hover {
   border: 4px solid #000000;
   text-shadow: #000508 0 1px 0;
   background: #000000;
   background: -webkit-gradient(linear, left top, left bottom, from(#000000), to(#000000));
   background: -webkit-linear-gradient(top, #000000, #000000);
   background: -moz-linear-gradient(top, #000000, #000000);
   background: -ms-linear-gradient(top, #000000, #000000);
   background: -o-linear-gradient(top, #000000, #000000);
   background-image: -ms-linear-gradient(top, #000000 0%, #000000 100%);
   color: #ffffff;
   }
.black:active {
   text-shadow: #000000 0 1px 0;
   border: 4px solid #000000;
   background: #000000;
   background: -webkit-gradient(linear, left top, left bottom, from(#3e779d), to(#000000));
   background: -webkit-linear-gradient(top, #3e779d, #000000);
   background: -moz-linear-gradient(top, #3e779d, #000000);
   background: -ms-linear-gradient(top, #3e779d, #000000);
   background: -o-linear-gradient(top, #3e779d, #000000);
   background-image: -ms-linear-gradient(top, #3e779d 0%, #000000 100%);
   color: #000000;
   }
 
</style>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Music Blocks</title>
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
    <link rel="stylesheet" href="css/activity.css">

    <script src="lib/mespeak.js"></script>
    <script src="lib/reqwest.js"></script>
    <script src="lib/jquery-2.1.4.js"></script>
    <script src="lib/jquery-ui.js"></script>
    <script src="lib/webL10n.js"></script>
    <script src="lib/tone.min.js"></script>
    <script src="lib/jquery.ruler.js"></script>
    <script src="lib/modernizr-2.6.2.min.js"></script>

    <script type="text/javascript"></script>

    <script src="//code.jquery.com/jquery-2.1.4.js"></script>
    <script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>


    <link rel="prefetch" type="application/l10n" href="./localization.ini" />
    <script data-main="js/loader" src="lib/require.js">
    </script>

    <link rel="manifest" href="android_chrome_manifest.json">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="192x192" href="activity/activity-icon-color-4-00.png">
    <meta id="theme-color" name="theme-color" content="#2196F3">
</head>

<body data-title="index" id="body" style="background: #96D3F3;">
        <script>
            function visible() {
              document.getElementById('tempo').style.visibility = 'visible';
            }
        </script>
        <div id="tempo"> 
<header id="myHeader"><font size="10">Music Blocks: Tempo System</font></header>

                <canvas id="TempoCanvas"> 

                      

           Sorry, your browser doesn't support canvas technology 
                </canvas>
                <div  id="myDiv" class="center" style="color:#FFFFFF" align="center">
                </br>
                </br>
                <button class = "black" onclick="speedUp()" id ="up">Speed Up</button>
        
                <button  class = "black"onclick="speedDown()" id ="down">Slow Down</button>
                
                
                
                
                </br>
                BPM: <input type="number" id="myNumber" value="10   ">

                <button onclick="useBPM()" class="black">Change BPM</button>
                </br>
                
                
                
                
                <button  class = "black"onclick="stop()">Stop</button>
                <button  class = "black"onclick="start()">Start</button>
                </br>
                <aside align = "center"><font size= "8" color ="black"><b> About Tempo</b></font></aside>
                <p><font size = "4" color ="black">Tempo is the pace of a piece of music. A metronome is used to keep track of tempo. Music Blocks has a similar function to that of a metronome. Tempo is used all the time. It is used when you tap your foot to your favorite song. It is used when you sing a song. It is even used when you are running and you start to breathe in a pattern. Enjoy the learning environment and experience of Music Blocks </font><p>
                <a href = "manyBeats.html" link="#000000" vlink="#000000" alink="#FFFFFF">Click here if you want to see multiple beats within multiple tempos</a>
                </div>
<audio id="myAudio">
 <source src="tick.mp3" type="audio/mpeg"
</audio>
    
        <script type="text/javascript"> 


                        var canvas; 


                        var ctx; 


                        var x = 1287; 


                        var y = 500; 


                        var mx = 1; 


                        var my = 4; 

                        var tempmx = -1;
                        var WIDTH = 1287; 


                        var HEIGHT = 500; 
var sound = document.getElementById("myAudio"); 

  function stop(){
  tempmx = mx;
  mx=0;
  
  
  }
  
  function start(){
  if (tempmx<0)
  mx=-1;
  
  else
    mx=1;
  }
  
  function useBPM(){
    var input = document.getElementById("myNumber").value;
    var temp;
    
    if(input<10)
    alert("BPM must be between 10-240");
    
    if(input>240)
    alert("BPM must be between 10-240");
    
    else
    {
    temp = input*1287;
    
    if(mx<0){
    mx = (temp*5)/60000;
    mx = -mx;
    }
    if(mx>0)
    mx = (temp*5)/60000;
  }
  }
  
function speedUp(){
if(mx > 26 || mx < -26){
 alert("You can not speed up anymore");
}
else{
if (mx < 0){

mx--;

}
if (mx > 0){

mx++;

}

}
}
function speedDown(){
if(mx - 1 == 0 || mx + 1 == 0){
 alert("You can not slow down anymore");
}
else{
if (mx > 0){

mx--;

}
if (mx < 0){

mx++;

}
}
}

function circle(x,y,r) { 


  ctx.beginPath(); 

ctx.fillStyle = ""; 
  ctx.arc(x, y, r, 0, Math.PI*2, true); 


  ctx.fill(); 


} 


  


function clear() { 


  ctx.clearRect(0, 0, WIDTH, HEIGHT); 


} 


function init() { 

  canvas = document.getElementById("TempoCanvas"); 


  ctx = canvas.getContext("2d"); 


  return setInterval(draw, 5); 

} 


function draw() { 
  clear(); 
  circle(x,250, 30); 


  if (x + mx > WIDTH || x + mx < 0) {
    
    if(x+mx>WIDTH)
        tempmx=-1;
            
    else
        tempmx=1;
        
    mx = -mx;
sound.play(); 
var letters = '0123456789ABCDEF'.split('');
    var color = '#';
    for (var i = 0; i < 6; i++ ) {
        color += letters[Math.floor(Math.random() * 16)];


}
ctx.fillStyle = color; 
document.getElementById("myHeader").style.background = color;

var colorC = '#';
    for (var i = 0; i < 6; i++ ) {
        colorC += letters[Math.floor(Math.random() * 16)];

}
document.getElementById("TempoCanvas").style.background = colorC;

document.getElementById("myDiv").style.background = colorC;

}
  if (y + my > HEIGHT || y + my < 0) 

    my = -my; 

  x += mx; 


 // y += my; 

} 




init(); 
                </script> 
                </div>

    <script>
        window.fbAsyncInit = function() {
            FB.init({
                appId: '1496189893985945',
                xfbml: true,
                version: 'v2.1'
            });
        };

        <!--
        try {
            (function(d, s, id) {
                var js, fjs = d.getElementsByTagName(s)[0];
                if (d.getElementById(id)) {
                    return;
                }
                js = d.createElement(s);
                js.id = id;
                js.src = "//connect.facebook.net/en_US/sdk.js";
                fjs.parentNode.insertBefore(js, fjs);
            }(document, 'script', 'facebook-jssdk'));
        } catch (e) {}
          -->
    
       $(function() {
            $("#matrix").draggable();
        });

	    $(function() {
            $("#pitchdrummatrix").draggable();
        });
        
        $(function() {
            $('#drumDiv').draggable({
                drag: function() {
                    jQuery('#rulerbody').css('top',jQuery(this).position().top);
                    jQuery('#rulerbody').css('left',jQuery(this).position().left + $(window).innerWidth/30);

                },
                stop: function(){
                    jQuery('#rulerbody').css('top',jQuery(this).position().top);                     
                    jQuery('#rulerbody').css('left',jQuery(this).position().left + $(window).innerWidth/30);                                        
                }
            });
        });
        
        $(function() {
            $('#rulerbody').draggable({
                drag: function() {
                    jQuery('#drumDiv').css('top',jQuery(this).position().top);
                    jQuery('#drumDiv').css('left',jQuery(this).position().left - $(window).innerWidth/30);

                },
                stop: function(){
                    jQuery('#drumDiv').css('top',jQuery(this).position().top);                     
                    jQuery('#drumDiv').css('left',jQuery(this).position().left - $(window).innerWidth/30);                                        
                }
            });
        });

        $(function() {
            $('#pitchstaircase').draggable({
                drag: function() {
                    jQuery('#playPitch').css('top',jQuery(this).position().top);
                    jQuery('#playPitch').css('left',jQuery(this).position().left - $(window).innerWidth/30);

                },
                stop: function(){
                    jQuery('#playPitch').css('top',jQuery(this).position().top);                     
                    jQuery('#playPitch').css('left',jQuery(this).position().left - $(window).innerWidth/30);                                        
                }
            });
        });
        
        $(function() {
            $('#playPitch').draggable({
                drag: function() {
                    jQuery('#pitchstaircase').css('top',jQuery(this).position().top);
                    jQuery('#pitchstaircase').css('left',jQuery(this).position().left + $(window).innerWidth/30);

                },
                stop: function(){
                    jQuery('#pitchstaircase').css('top',jQuery(this).position().top);                     
                    jQuery('#pitchstaircase').css('left',jQuery(this).position().left + $(window).innerWidth/30);                                        
                }
            });
        });
    

	$(function() {
            $("#statusmatrix").draggable();
        });

        (function($) {
            $.fn.fixMe = function() {
                return this.each(function() {
                    var $this = $(this),
                        $t_fixed;

                    function init() {
                        $this.wrap('<div class="container" />');
                        $t_fixed = $this.clone();
                        $t_fixed.find("tbody").remove().end().addClass("fixed").insertBefore($this);
                        resizeFixed();
                    }

                    function resizeFixed() {
                        $t_fixed.find("th").each(function(index) {
                            $(this).css("width", $this.find("th").eq(index).outerWidth() + "px");
                        });
                    }

                    function scrollFixed() {
                        var offset = $(this).scrollTop(),
                            tableOffsetTop = $this.offset().top,
                            tableOffsetBottom = tableOffsetTop + $this.height() - $this.find("thead").height();
                        if (offset < tableOffsetTop || offset > tableOffsetBottom)
                            $t_fixed.hide();
                        else if (offset >= tableOffsetTop && offset <= tableOffsetBottom && $t_fixed.is(":hidden"))
                            $t_fixed.show();
                    }
                    $(window).resize(resizeFixed);
                    $(window).scroll(scrollFixed);
                    init();
                });
            };
        })(jQuery);

        $(document).ready(function() {
            $("solfa").fixMe();
            $(".up").click(function() {
                $('html, body').animate({
                    scrollTop: 0
                }, 2000);
            });
        });
      
        function moveMatrix(event) {
            var matrixDiv = document.getElementById('matrix');
            matrixDivPosition = matrixDiv.getBoundingClientRect();

            var table = document.getElementById('myTable');
            var row = table.rows.item(0);
            row.style.left = matrixDivPosition.left + 'px';
            row.style.top = matrixDivPosition.top + 'px';

            var marginFromTop = Math.floor(matrixDivPosition.top + this.cellScale * 2 + parseInt(matrixDiv.style.paddingTop));
            for (i = 1, row; row = table.rows[i]; i++) {
                cell = row.cells[0];
                cell.style.left = matrixDivPosition.left + 2 + 'px';
                cell.style.top = marginFromTop + 'px';
                marginFromTop += parseInt(cell.style.height);
            }
        }

        function movePitchDrumMatrix(event) {
            var matrixDiv = document.getElementById('pitchdrummatrix');
            matrixDivPosition = matrixDiv.getBoundingClientRect();

            var table = document.getElementById('drumTable');
            var row = table.rows.item(0);
            row.style.left = matrixDivPosition.left + 'px';
            row.style.top = matrixDivPosition.top + 'px';

            var marginFromTop = Math.floor(matrixDivPosition.top + this.cellScale * 2 + parseInt(matrixDiv.style.paddingTop));
            for (i = 1, row; row = table.rows[i]; i++) {
                cell = row.cells[0];
                cell.style.left = matrixDivPosition.left + 2 + 'px';
                cell.style.top = marginFromTop + 'px';
                marginFromTop += parseInt(cell.style.height);
            }
        }

        function moveStatusMatrix(event) {
            var matrixDiv = document.getElementById('statusmatrix');
            matrixDivPosition = matrixDiv.getBoundingClientRect();

            var table = document.getElementById('statusTable');
            var row = table.rows.item(0);
            row.style.left = matrixDivPosition.left + 'px';
            row.style.top = matrixDivPosition.top + 'px';

            var marginFromTop = Math.floor(matrixDivPosition.top + this.cellScale * 2 + parseInt(matrixDiv.style.paddingTop));
            for (i = 1, row; row = table.rows[i]; i++) {
                cell = row.cells[0];
                cell.style.left = matrixDivPosition.left + 2 + 'px';
                cell.style.top = marginFromTop + 'px';
                marginFromTop += parseInt(cell.style.height);
            }
        }
    </script>

    <!-- see activity/activity-icon-color-loading.svg for info -->
    <div class="canvasHolder">
        <canvas id="myCanvas" width="1200" height="900"></canvas>
        <canvas id="myChart" width="600" height="600"></canvas>
        <video id="camVideo" style="visibility:hidden;"></video>
        <canvas id="camCanvas" style="visibility:hidden;"></canvas>
        <div id="labelDiv"></div>
        <div id="ioDiv">
            <input tabindex="-1" class="file" type="file" id="myMedia" accept="image/*" />
            <input tabindex="-1" class="file" type="file" id="myOpenFile" accept=".ta, .tb" />
            <input tabindex="-1" class="file" type="file" id="myOpenPlugin" accept=".json" />
            <input tabindex="-1" class="file" type="file" id="myOpenAll" />
        </div>
        <div id="audio"></div>
        <div id="tourData"></div>
    </div>
    <div id="loading-image-container" style="position: absolute; width: 100%; height: 100%;">
        <img src="./activity/mouse.svg" style="max-width:50%; width: 512px; margin: auto; display: block;" />
    </div>

    <div id="popdown-palette"></div>

    <div id="main-toolbar" class="toolbar"></div>

    <div id="loader"></div>

    <div id="header" class="EaselJS"></div>

    <div class="planet" style="display: none;">
        <nav>
            <div class="nav-container">
                <img src="header-icons/planet-button.svg" class="logo" />
                <h1 id="planetTitle"></h1>
                <ul>
                    <li class="back"><img src="header-icons/cancel-button.svg" /></li>
                    <li class="new"><img src="header-icons/add.svg" /></li>
                    <li class="open"><img src="header-icons/folder-open.svg" /></li>
                </ul>
            </div>
        </nav>

        <div class="nav-spacer"></div>
        <div class="planet-content">
            <h2 id="planetMyDevice"></h2>
            <ul class="content l"></ul>

            <h2 id="planetWorldwide"></h2>
            <ul class="content w"></ul>
        </div>
    </div>
    <canvas hidden id="canvasToSave" width="700" height="800" style="border: 1px solid black"></canvas>
    <canvas hidden id="music" width="700"></canvas>
    <div id="matrix" overflow-x="auto" ondrag="moveMatrix(event)" onmouseup="moveMatrix(event)"></div>
    <div id="pitchdrummatrix" overflow-x="auto" ondrag="movePitchDrumMatrix(event)" onmouseup="movePitchDrumMatrix(event)"></div>
    <div id="rulerbody" overflow-x="auto"></div>
    <div id="drumDiv"></div>
    <div id="pitchstaircase"></div>
    <div id="playPitch"></div>
    <div id="statusmatrix" overflow-x="auto" ondrag="moveStatusMatrix(event)" onmouseup="moveStatusMatrix(event)"></div>    
    <div id="helpElem"></div>

</body>

</html>
